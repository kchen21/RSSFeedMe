<% layout('homepage_layout') -%>

<h1>Feeds</h1>

<ul class="feeds">
  <% feeds.forEach((feed) => { %>
    <li>

      <img src="<%= feed.image_url %>"/>

      <div class="info">
        <h2><%= feed.title %></h2>
        <p><%= feed.description %></p>
      </div>

      <button type="button" class="btn btn-info btn-lg subscribe-btn" data-toggle="modal" data-target="#subscribeModal" data-id="<%= feed._id %>">Subscribe</button>

    </li>
  <% }); %>
</ul>

<div id="subscribeModal" class="modal fade" role="dialog">
  <div class="modal-dialog custom-modal-dialog">

    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Subscribe</h4>
      </div>
      <div class="modal-body">
        <input type="hidden" name="feedId" id="feedId" value=""/>

        <p>Add to:</p>

        <select class="selectpicker">
          <% collections.forEach((collection) => { %>
            <option><%= collection.title %></option>
          <% }) %>
        </select>

      </div>
    </div>

  </div>
</div>
